---
title: 自然语言转化为代码
tags:
  - 职业修养
categories:
  - 读书笔记
  - 编写可读代码的艺术
date: 2020-01-29 17:11:34
visible:
---


# 把想法变成代码

将一个复杂的问题可以通过自然语言通俗易懂的解释出来是一项好的技能。代码作为解释程序所做事情的主要载体，使用“自然语言”的逻辑编写代码会更加清晰和易于理解。

可以分为以下三步：

1. 像对着一个同事一样用自然语言描述代码要做什么。

2. 注意描述中所用的关键词和短语。

3. 写出与描述所匹配的代码。

## 清楚地描述逻辑

有这样一个需求，需要检测用户是否有权限来查看这个页面，如果没有，返回未授权的页面。

![](00169.jpg)

这段代码可以实现功能，但是逻辑语句的编写有些多，下面通过自然语言描述这个问题。

有两种方式来判断用户是否可以查看文档：

1. 用户有看文档的权限
2. 用户有这个文档

![](00171.jpg)

## 了解函数库是有帮助的

在编写一个项目时，会有很多已经编写好的函数库来帮助我们快速实现一些常用的功能。例如`jQuery`，`Lodash`等前端通用的工具库等。

如果在页面中引入了这些库文件，那么就要熟悉这个库文件中支持的大部分方法。不要自己去实现一个库中存在的方法，这样会造成冗余。而且其他人也会花费多余的时间来阅读这段冗余的代码。

例如使用`jQuery`辅助实现的这个“提示框”代码：

![](00174.jpg)

用自然语言描述：

1. 找到当前可见的提示并隐藏
2. 找到它的下一个提示并显示
3. 如果没有更多提示，返回第一个提示

![](00175.jpg)

第二段代码使用了`.next()`方法来避免进行整数的运算。所以编写精练代码的一部分工作是了解你的库提供了什么。

## 总结

本章讨论了一个简单的技巧，用自然语言描述程序然后用这个描述来帮助你写出更自然的代码。这个技巧出人意料地简单，但很强大。看到你在描述中所用的词和短语还可以帮助你发现哪些子问题可以拆分出来。

但是这个“用自然语言说事情”的过程不仅可以用于写代码。例如，某个大学计算机实验室的规定声称当有学生需要别人帮它调试程序时，他首先要对房间角落的一只专用的泰迪熊解释他遇到的问题。令人惊讶的是，仅仅通过大声把问题描述出来，往往就能帮这个学生找到解决的办法。这个技巧叫做“橡皮鸭技术”。

另一个看待这个问题的角度是：如果你不能把问题说明白或者用词语来做设计，估计是缺少了什么东西或者什么东西缺少定义。把一个问题（或想法）变成语言真的可以让它更具体。
