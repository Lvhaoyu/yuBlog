---
title: 什么是代码的审美
tags:
  - 职业修养
categories:
  - 读书笔记
  - 编写可读代码的艺术
date: 2019-12-30 13:37:11
---


# 第四章：关于代码的审美

## 看上去易读并且好看的代码的三条原则

- 使用一致的布局
- 让相似的代码看上去相似
- 把相关的代码进行分组，形成代码块

## 好的审美与好的设计是两个独立的思想

审美的意思就是拥有评判美的能力，可以欣赏，品味，领略事物的美。这个角度来说大家都是有审美的。但是如何找到美的原因并且对其进行改进，这就是体现不同的地方了。

代码的设计是比审美更高一层的东西，审美更像是设计的内部实现细节，好的代码设计整体看起来可以很不错，但是从内部看，就可能有不符合审美要求的代码，这不影响这个代码有好的设计。

## 为什么要有好的审美

写代码主要是实现功能，从程序员的角度来说，一个代码的功能如何，需要看源代码来分析，若编程大部分时间放在由于代码排版混乱而造成的额外阅读时间上，大多数人会避免使用这段代码。如果必须使用，工作效率也会降低。

## 如何写出符合审美的代码

### 重新安排换行来保持一致和紧凑

保持一致理解起来很简单，让代码整齐划一，而不是某个和其他功能类似的代码相差很大。紧凑的代码方便阅读，一看就可以看到整个方法需要的所有东西。这些都可以通过合理调整换行来实现。

改造前：

![](Jietu20200105-140417.jpg)

可以看出该代码第三个实例看起来与前两个不一致，而且整块注释略显繁琐，也没有对齐。违反了“相似的代码应该看上去相似”这条原则。

改造后：

![](Jietu20200105-140939.jpg)

### 用方法来整理不规则的东西

当你的方法中有大量重复的语句，可以选择使用一个函数将其封装，将所有的“脏活”，“累活”放到函数中，代码会变得更加整洁且扩展性也会提高。

改造前：

![](Jietu20200105-141749.jpg)

改造后：

![](Jietu20200105-141940.jpg)

改造后的代码改进了三个方面：

- 消除原来代码的大量重复，让代码更紧凑
- 参数更加直白，改造前的代码一眼看清楚代码的参数很难
- 可扩展性提高，添加新测试更加简单

可见践行审美也可能将代码结构变得更好。

### 在需要时使用列对齐

“列对齐”更像是文字排版中的概念，整齐的行和列可以帮助读者更好的阅读，可以将相似的代码借助空格列来实现列对齐，这样也可以更好的发现错误。

![](Jietu20200105-143631.jpg)

### 选择更有意义的顺序，始终一致的使用它

代码的顺序在大多数情况下并不会影响运行结果，当代码的顺序不重要时，不要随机排序，可以按照一定的规矩将它们有意义的排列，例如：

- 字母表顺序
- 变量与业务中实际显示部分的顺序对应（例如表单字段）
- 按照重要的权重排序，重要的放在前边。

### 把声明按块组织起来

人们经常按照分组的层次和结构来思考代码，也可以利用这个方法来构建代码。

![](Jietu20200105-144437.jpg)

### 把代码分成“段落”

书面文字分段原因：

- 把相似的想法与其他想法分开
- 提供对应的分隔标志让读者可以知道自己阅读的进度以及阅读的范围
- 便于在段落之间导航

代码也可以按照功能将代码分隔成段落，并在每段之前增加对应的注释，方便读者理解代码。

### 个人风格与一致性

要保证自己的风格在一个项目中是**一致**的，这个比所谓**正确**的风格更重要。

## 总结

大家都愿意读有美感的代码。通过把代码用**一致**的、有**意义**的方式“格式化”，可以将代码变得更有美感且易读。

技巧：

- 多个代码块做类似的事情，让他们格式一致
- 将代码按照“列”来对齐可以让代码更易读，且容易发现错误
- 按照**相同**的顺序风格来组织代码顺序
- 使用空行和注释来给代码分成逻辑上的段落
